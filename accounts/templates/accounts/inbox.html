{% extends "base.html" %}
{% load static %}

{% block title %}Mensajes Boutique{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'accounts/css/inbox.css' %}">
{% endblock %}

{% block header %}
<header class="layout-header boutique-header">
  <h1 class="boutique-title">Tu bandeja sensorial</h1>
</header>
{% endblock %}

{% block content %}
<main class="container py-5">
  <section class="text-center mb-4">
    <h2 class="page-title">Mensajes recibidos</h2>
    <p class="page-subtitle">Conversaciones que respiran atmósfera editorial</p>
  </section>

  {% if mensajes %}
    <div class="row">
      {% for mensaje in mensajes %}
        <div class="col-md-6 mb-4">
          <div class="card h-100 shadow-sm p-3">
            <h5 class="card-title">{{ mensaje.subject }}</h5>
            <p class="card-text">{{ mensaje.body|truncatewords:20 }}</p>
            <p class="text-muted small">De: {{ mensaje.sender.username }} — {{ mensaje.sent_at|date:"d M Y H:i" }}</p>
            <a href="{% url 'messenger:detalle' mensaje.id %}" class="btn btn-sm btn-outline-dark">Ver completo</a>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-muted text-center">No tenés mensajes aún. Tu bandeja está en calma sensorial.</p>
  {% endif %}

  <div class="mt-5 text-center">
    <a href="{% url 'accounts:profile' %}" class="btn-sensorial">← Volver al perfil</a>
  </div>
</main>
{% endblock %}
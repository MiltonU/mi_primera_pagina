{% extends 'base.html' %}
{% load static %}

{% block title %}Editar Perfil — Blog Boutique{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'accounts/css/profile.css' %}">
{% endblock %}

{% block content %}
<section class="page-wrapper">
  <h2 class="page-title">Editar tu perfil sensorial</h2>
  <p class="page-subtitle">Refiná tu esencia boutique y conectá con otros</p>

  {% if user_form.errors or profile_form.errors %}
    <div class="alert alert-danger">
      <p>Revisá los campos marcados. Hay errores que corregir.</p>
    </div>
  {% endif %}

  <form method="post" enctype="multipart/form-data" class="card p-4 shadow-sm">
    {% csrf_token %}

    <fieldset class="mb-4">
      <legend class="h5">Datos de usuario</legend>
      {{ user_form.as_p }}
    </fieldset>

    <fieldset class="mb-4">
      <legend class="h5">Perfil sensorial</legend>
      {{ profile_form.as_p }}

      {% if profile_form.instance.avatar %}
        <div class="mt-3">
          <strong>Avatar actual:</strong><br>
          <img src="{{ profile_form.instance.avatar.url }}" alt="Avatar actual" class="img-thumbnail" style="max-width: 150px;">
        </div>
      {% endif %}
    </fieldset>

    <button type="submit" class="btn btn-outline-dark mt-3">Guardar cambios</button>
    <a href="{% url 'accounts:profile' %}" class="btn btn-link mt-3">← Volver al perfil</a>
  </form>

  <div class="page-content mt-4">
    <p>Tu perfil sensorial es la puerta a tu narrativa boutique. Podés actualizarlo cuando quieras.</p>
  </div>
</section>
{% endblock %}
{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container boutique-home">
  <h1 class="titulo-principal">Descubr√≠ tu vino ideal üç∑</h1>

  <form method="GET" action="{% url 'buscar_vino' %}" class="filtros-form">
    <div class="filtro">
      <label for="cepa">Cepa:</label>
      <select name="cepa" id="cepa">
        <option value="">Todas</option>
        {% for cepa in cepas %}
          <option value="{{ cepa }}">{{ cepa }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="filtro">
      <label for="terroir">Terroir:</label>
      <select name="terroir" id="terroir">
        <option value="">Todos</option>
        {% for terroir in terroirs %}
          <option value="{{ terroir }}">{{ terroir }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="filtro">
      <label for="bodega">Bodega:</label>
      <select name="bodega" id="bodega">
        <option value="">Todas</option>
        {% for bodega in bodegas %}
          <option value="{{ bodega }}">{{ bodega }}</option>
        {% endfor %}
      </select>
    </div>

    <button type="submit" class="btn-filtrar">Buscar</button>
  </form>

  <div class="resultados-vinos">
    {% for vino in vinos %}
      <div class="vino-card">
        <h3>{{ vino.nombre }}</h3>
        <p><strong>Cepa:</strong> {{ vino.cepa }}</p>
        <p><strong>Terroir:</strong> {{ vino.terroir }}</p>
        <p><strong>Bodega:</strong> {{ vino.bodega.nombre }}</p>
      </div>
    {% empty %}
      <p>No se encontraron vinos con esos filtros.</p>
    {% endfor %}
  </div>
</div>
{% endblock %}
